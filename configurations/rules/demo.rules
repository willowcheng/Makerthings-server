rule Away
when
	Item Presence changed to OFF
then
	Thread::sleep(3000)
	Light.send(OFF)
end

rule "Initialize contact states"
	when
		System started or
		Time cron "0/30 * * * * ?"
	then
		Windows?.members.forEach(window|
			window.postUpdate(if(Math::random > 0.5) OPEN else CLOSED)
		)
end